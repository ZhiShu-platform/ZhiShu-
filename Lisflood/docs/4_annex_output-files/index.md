# Output generated by LISFLOOD

LISFLOOD can generate a wide variety of outputs. Output files can be time series at specific points (.tss files) or maps (NetCDF format). Reporting of output files can be switched on and off using options in the LISFLOOD settings file. A number of output files are specific to optional modules, such as the simulation of reservoirs. This page lists the most common output time series and maps (<u>note</u> that the file names can always be changed by the user, although this is not recommended).

##  Time Series

***Table:*** *LISFLOOD output time series, some examples.*  

| Description                                                  | Units            | File name             |
| ------------------------------------------------------------ | ---------------- | --------------------- |
| **RATE VARIABLES AT GAUGES**                                 |                  |                       |
| $^{1,2}$ channel discharge                                   | $\frac{m^3} {s}$ | dis.tss               |
| **NUMERICAL CHECKS**                                             |                  |                       |
| $^2$ cumulative mass balance error                           | $m^3$            | mbError.tss           |
| $^2$ cumulative mass balance error, expressed as mm water slice (average over catchment) | $mm$             | mbErrorMm.tss         |
| $^2$ number of sub-steps needed for channel routing          | -                | NoSubStepsChannel.tss |

$^1$ Output only if option  'InitLisflood' = 1  (pre-run)  
$^2$ Output only if option  'InitLisflood' = 0  

Output time series can be classified in the following categories:

1. Time series with values of meteorological input variables, averaged over the area upstream of each gauge location; reporting of these time series can be activated using the option *repMeteoUpsGauges=1*
2. Time series with values of model state variables, averaged over area upstream of each gauge location; reporting of these time series can be activated using the option *repStateUpsGauges=1*
3. Time series with values of model rate variables, averaged over area upstream of each gauge location; reporting of these time series can be activated using the option *repRateUpsGauges=1*
4. Time series that are specific to other options (e.g. simulation of reservoirs).
5. Time series with values of model state variables at user-defined locations (sites); reporting of these time series can be activated using the option *repStateSites=1.* Note that 'sites' can be either individual pixels or larger areas (e.g. catchments, administrative areas, and so on). In case of larger areas the model reports the average value for each respective area.
6. Time series with values of model rate variables at user-defined locations (sites); reporting of these time series can be activated using the option *repRateSites=1*

***Table:***  *LISFLOOD optional output time series (only 'InitLisflood' = 0).*  

| Description                                                  | Units                      | Settings variable      | Default name           |
| ------------------------------------------------------------ | -------------------------- | ---------------------- | ---------------------- |
| **STATE VARIABLES AT SITES** (option *repStateSites*)     |                            |                        |                        |
| depth of snow cover on soil surface (pixel-average)          | $mm$                       | SnowCoverTS            | snowCover.tss          |
| depth of interception storage                                | $mm$                       | CumInterceptionTS      | cumInt.tss             |
| soil moisture content superficial layer                            | $\frac{mm^3}{mm^3}$        | Theta1TS               | th1a.tss              |
| soil moisture content upper layer                            | $\frac{mm^3}{mm^3}$        | Theta2TS               | th1b.tss              |
| soil moisture layer bottom layer                                        | $\frac{mm^3}{mm^3}$        | Theta3TS               | th2.tss              |
| storage in upper groundwater zone                            | $mm$                       | UZTS                   | uz.tss                 |
| storage in lower groundwater zone                            | $mm$                       | LZTS                   | lz.tss                 |
| number of days since last rain                               | $days$                     | DSLRTS                 | dslr.tss               |
| frost index                                                  | $\frac{°C}{days}$          | FrostIndexTS           | frost.tss              |
| **RATE VARIABLES AT SITES** (option *repRateSites*)       |                            |                        |                        |
| rain (excluding snow)                                        | $\frac{mm}{timestep}$      | RainTS                 | rain.tss               |
| Snow                                                         | $\frac{mm}{timestep}$      | SnowTS                 | snow.tss               |
| snow melt                                                    | $\frac{mm}{timestep}$      | SnowmeltTS             | snowMelt.tss           |
| actual evaporation                                           | $\frac{mm}{timestep}$      | ESActTS                | esAct.tss              |
| actual transpiration                                         | $\frac{mm}{timestep}$      | TaTS                   | tAct.tss               |
| rainfall interception                                        | $\frac{mm}{timestep}$      | InterceptionTS         | interception.tss       |
| evaporation of intercepted water                             | $\frac{mm}{timestep}$      | EWIntTS                | ewIntAct.tss           |
| leaf drainage                                                | $\frac{mm}{timestep}$      | LeafDrainageTS         | leafDrainage.tss       |
| infiltration                                                 | $\frac{mm}{timestep}$      | InfiltrationTS         | infiltration.tss       |
| preferential (bypass) flow                                   | $\frac{mm}{timestep}$      | PrefFlowTS             | prefFlow.tss           |
| percolation upper to lower soil layer                        | $\frac{mm}{timestep}$      | PercolationTS          | dTopToSub.tss          |
| percolation lower soil layer to subsoil                      | $\frac{mm}{timestep}$      | SeepSubToGWTS          | dSubToUz.tss           |
| surface runoff                                               | $\frac{mm}{timestep}$      | SurfaceRunoffTS        | surfaceRunoff.tss      |
| outflow from upper zone                                      | $\frac{mm}{timestep}$      | UZOutflowTS            | qUz.tss                |
| outflow from lower zone                                      | $\frac{mm}{timestep}$      | LZOutflowTS            | qLz.tss                |
| total runoff                                                 | $\frac{mm}{timestep}$      | TotalRunoffTS          | totalRunoff.tss        |
| percolation from upper to lower zone                         | $\frac{mm}{timestep}$      | GwPercUZLZTS           | percUZLZ.tss           |
| loss from lower zone                                         | $\frac{mm}{timestep}$      | GwLossTS               | loss.tss               |
| **TIME SERIES, AVERAGE UPSTREAM OF GAUGES**                  |                            |                        |                        |
| **METEOROLOGICAL INPUT VARIABLES** (option *repMeteoUpsGauges*) |                            |                        |                        |
| precipitation                                                | $\frac{mm}{timestep}$      | PrecipitationAvUpsTS   | precipUps.tss          |
| potential reference evapotranspiration                       | $\frac{mm}{timestep}$      | ETRefAvUpsTS           | etUps.tss              |
| potential evaporation from soil                              | $\frac{mm}{timestep}$      | ESRefAvUpsTS           | esUps.tss              |
| potential open water evaporation                             | $\frac{mm}{timestep}$      | EWRefAvUpsTS           | ewUps.tss              |
| average daily temperature                                    | $°C$                       | TavgAvUpsTS            | tAvgUps.tss            |
| **STATE VARIABLES** (option *repStateUpsGauges*)             |                            |                        |                        |
| depth of water on soil surface                               | $mm$                       | WaterDepthAvUpsTS      | wdepthUps.tss          |
| depth of snow cover on                                       | $mm$                       | SnowCoverAvUpsTS       | snowCoverUps.tss       |
| depth of interception storage                                | $mm$                       | CumInterceptionAvUpsTS | cumInterceptionUps.tss |
| soil moisture upper layer                                    | $\frac{mm^3}{mm^3}$        | Theta1AvUpsTS          | th1aAvUps.tss           |
| soil moisture lower layer                                    | $\frac{mm^3}{mm^3}$        | Theta2AvUpsTS          | th1bAvUps.tss           |
| soil moisture layer 2                                        | $\frac{mm^3}{mm^3}$        | Theta3AvUpsTS          | th2AvUps.tss           |
| groundwater upper zone                                       | $mm$                       | UZAvUpsTS              | uzUps.tss              |
| groundwater lower zone                                       | $mm$                       | LZAvUpsTS              | lzUps.tss              |
| number of days since last rain                               | $days$                     | DSLRAvUpsTS            | dslrUps.tss            |
| frost index                                                  | $\frac{°C}{days}$          | FrostIndexAvUpsTS      | frostUps.tss           |
| **RATE VARIABLES** (option *repRateUpsGauges*)               |                            |                        |                        |
| rain (excluding snow)                                        | $\frac{mm}{timestep}$      | RainAvUpsTS            | rainUps.tss            |
| snow                                                         | $\frac{mm}{timestep}$      | SnowAvUpsTS            | snowUps.tss            |
| snow melt                                                    | $\frac{mm}{timestep}$      | SnowmeltAvUpsTS        | snowMeltUps.tss        |
| actual evaporation                                           | $\frac{mm}{timestep}$      | ESActAvUpsTS           | esActUps.tss           |
| actual transpiration                                         | $\frac{mm}{timestep}$      | TaAvUpsTS              | tActUps.tss            |
| rainfall interception                                        | $\frac{mm}{timestep}$      | InterceptionAvUpsTS    | interceptionUps.tss    |
| evaporation of intercepted water                             | $\frac{mm}{timestep}$      | EWIntAvUpsTS           | ewIntActUps.tss        |
| leaf drainage                                                | $\frac{mm}{timestep}$      | LeafDrainageAvUpsTS    | leafDrainageUps.tss    |
| infiltration                                                 | $\frac{mm}{timestep}$      | InfiltrationAvUpsTS    | infiltrationUps.tss    |
| preferential (bypass) flow                                   | $\frac{mm}{timestep}$      | PrefFlowAvUpsTS        | prefFlowUps.tss        |
| percolation upper to lower soil layer                        | $\frac{mm}{timestep}$      | PercolationAvUpsTS     | dTopToSubUps.tss       |
| percolation lower soil layer to subsoil                      | $\frac{mm}{timestep}$      | SeepSubToGWAvUpsTS     | dSubToUzUps.tss        |
| surface runoff                                               | $\frac{mm}{timestep}$      | SurfaceRunoffAvUpsTS   | surfaceRunoffUps.tss   |
| outflow from upper zone                                      | $\frac{mm}{timestep}$      | UZOutflowAvUpsTS       | qUzUps.tss             |
| outflow from lower zone                                      | $\frac{mm}{timestep}$      | LZOutflowAvUpsTS       | qLzUps.tss             |
| total runoff                                                 | $\frac{mm}{timestep}$      | TotalRunoffAvUpsTS     | totalRunoffUps.tss     |
| percolation upper to lower zone                              | $\frac{mm}{timestep}$      | GwPercUZLZAvUpsTS      | percUZLZUps.tss        |
| loss from lower zone                                         | $\frac{mm}{timestep}$      | GwLossTS               | lossUps.tss            |
| **WATER LEVEL IN CHANNEL** (option *repWaterLevelTs*)          |                            |                        |                        |
| water level in channel                                       | $m$ (above channel bottom) | WaterLevelTS           | waterLevel.tss         |
| **OUTPUT RELATED TO LOWER ZONE INITIALISATION** (option *repLZAvInflowSites* and *repLZAvInflowUpsGauges*) |                            |                        |                        |
| average inflow into lower zone                               | $\frac{mm^3}{day}$         | LZAvInflowTS           | lzAvIn.tss             |
| average inflow into lower zone                               | $\frac{mm^3}{day}$         | LZAvInflowAvUpsTS      | lzAvInUps.tss          |



##  Maps

Output maps can be classified according to the following categories:

1. Maps of discharge at each time step; reporting of these maps can be activated using the option *repDischargeMaps=1*.
2. Maps with values of driving meteorological values at each time step.
3. Maps with values of model state variables at each time step.
4. Maps with values of model rate variables at each time step.
5. Maps that are specific to other options (e.g. simulation of reservoirs).

In addition, some additional maps and time series may be reported for debugging purposes. In general these are not of any interest to the LISFLOOD user, so they are not documented here.

<u>Note</u> the domains for which variables are valid: all *rate variables* are reported as pixel-average values. Soil moisture and groundwater storage are reported for the permeable fraction of each pixel only. The reported snow cover is the average of the snow depths in snow zones A, B and C.


***Table:*** *LISFLOOD initialization default output maps (Output only if option 'InitLisflood' = 1).*          

| Description                                                  | Units               | File name         | Domain                               |
| ------------------------------------------------------------ | ------------------- | ----------------- | ------------------------------------ |
| **AVERAGE RECHARGE MAP (for lower groundwater zone and channel discharge)** (option *InitLisflood*) |                     |                   |                                      |
| average inflow to lower zone                            | $mm$  | lzavin.nc        | whole pixel                      |
| average channel discharge (if option 'SplitRouting' = 1)                  | $\frac{m}{s}$  | avgdis.nc| channel                      |

LISFLOOD can also generate optional output end-files to allow the initialization of the soil moisture of the three soil layers and the water content of the upper groundwater zone. To achieve this aim is necessary to set 'repEndMaps' = 1 (with 'InitLisflood' = 1). More details are provided here  https://ec-jrc.github.io/lisflood-code/3_step5_model-initialisation/
To speed up the pre-run and to prevent that results are taken from the pre-run, all additional output is disabled if option 'InitLisflood' = 1 is chosen. 

### *LISFLOOD state maps. These maps can be used to define the initial conditions of another simulation.* 
These maps are written in output when 'repStateMaps' = 1.
LISFLOOD writes the results for each computational time step.
The complete list of state maps is available here https://ec-jrc.github.io/lisflood-code/4_annex_state-variables/ .
The users should be aware that some state maps are generated only if the relevant option has been set to 1. For instance, LakePrevInflowState and LakePrevOutflowState can be generated only when 'simulateLakes' = 1. 


***Table:*** *LISFLOOD optional output maps* 

| Description                             | Option                 | Units                      | Settings variable                                  | Prefix          |
| --------------------------------------- | ---------------------- | -------------------------- | -------------------------------------------------- | --------------- |
| **DISCHARGE**           |                        |                            |                                                    |                 |
| discharge                               | repDischargeMaps       | $\frac{m^3}{s}$            | DischargeMaps                                      | dis             |
| **METEOROLOGICAL INPUT VARIABLES**     |                        |                            |                                                    |                 |
| precipitation                           | repPrecipitationMaps   | $mm$                       | PrecipitationMaps                                  | pr              |
| potential reference evapotranspiration  | repETRefMaps           | $mm$                       | ETRefMaps                                          | et              |
| potential evaporation from soil         | repESRefMaps           | $mm$                       | ESRefMaps                                          | es              |
| potential open water evaporation        | repEWRefMaps           | $mm$                       | EWRefMaps                                          | ew              |
| average daily temperature               | repTavgMaps            | $mm$                       | TavgMaps                                           | tav             |
| **VOLUME VARIABLES**                 |                        |                            |                                                    |                 |
| depth of water on soil surface          | repWaterDepthMaps      | $mm$                       | WaterDepthMaps                                     | wdep            |
| depth of snow cover on soil surface     | repSnowCoverMaps       | $mm$                       | SnowCoverMaps                                      | scov            |
| depth of interception storage           | repCumInterceptionMaps | $mm$                       | CumInterceptionMaps (other fraction) <br> CumInterceptionForestMaps <br> CumInterceptionIrrigationMaps <br> CumIntSealedMaps  | cum <br> cumf  <br> cumi <br> cums |
| soil moisture content of the three soil layers      | repThetaMaps          | $\frac{mm^3}{mm^3}$        | Theta1Maps <br> Theta1ForestMaps  <br> Theta1IrrigationMaps  <br> Theta2Maps <br> Theta2ForestMaps  <br> Theta2IrrigationMaps <br> Theta3Maps <br> Theta3ForestMaps  <br> Theta3IrrigationMaps                 | tha <br> thfa <br> thia <br> thb <br> thfb <br> thib <br> thc <br> thfc <br> thic|
| storage in upper groundwater zone       | repUZMaps              | $mm$                       | UZMaps <br> UZForestMaps <br> UZIrrigationMaps     | uz <br> uzf   <br> uzi  |
| storage in lower groundwater zone       | repLZMaps              | $mm$                       | LZMaps                           | lz      |
| number of days since last rain          | repDSLRMaps            | $days$                     | DSLRMaps <br> DSLRForestMaps                       | dslr <br> dslF  |
| frost index                             | repFrostIndexMaps      | $\frac{°C}{days}$          | FrostIndexMaps                                     | frost           |
| Total Water Storage                             | repTotalWaterStorageMaps      | $mm$          | TotalWaterStorageMaps                                     | tws           |
| **RATE VARIABLES**                 |                        |                            |                                                    |                 |
| rain (excluding snow)                   | repRainMaps            | $\frac{mm}{timestep}$      | RainMaps                                           | rain            |
| snow                                    | repSnowMaps            | $\frac{mm}{timestep}$      | SnowMaps                                           | snow            |
| snow melt                               | repSnowMeltMaps        | $\frac{mm}{timestep}$      | SnowMeltMaps                                       | smelt           |
| actual evaporation                      | repESActMaps           | $\frac{mm}{timestep}$      | ESActMaps                                          | esact           |
| actual transpiration                    | repTaMaps              | $\frac{mm}{timestep}$      | TaMaps                                             | tact            |
| rainfall interception                   | repInterceptionMaps    | $\frac{mm}{timestep}$      | InterceptionMaps <br> InterceptionForestMaps                                   | int <br> intF            |
| evaporation of intercepted water        | repEWIntMaps           | $\frac{mm}{timestep}$      | EWIntMaps                                          | ewint           |
| leaf drainage                           | repLeafDrainageMaps    | $\frac{mm}{timestep}$      | LeafDrainageMaps <br> LeafDrainageForestMaps                                   | ldra <br> draF            |
| infiltration                            | repInfiltrationMaps    | $\frac{mm}{timestep}$      | InfiltrationMaps <br> InfiltrationForestMaps                                   | inf <br> infF             |
| preferential (bypass) flow              | repPrefFlowMaps        | $\frac{mm}{timestep}$      | PrefFlowMaps <br> PrefFlowtherMaps <br> PrefFlowForestMaps <br> PrefFlowIrrigationMaps                                       | pflowpixel <br> pflow <br> pflowF <br> pflowi           |
| percolation upper to lower soil layer   | repPercolationMaps     | $\frac{mm}{timestep}$      | Percolation1ato1bOtherMaps <br> Percolation1ato1bForestMaps <br> Percolation1ato1bIrrigationMaps <br> Percolation1bto2OtherMaps <br> Percolation1bto2ForestMaps <br> Percolation1bto2IrrigationMaps                                    | Percolation1ato1bOther <br> Percolation1ato1bForest <br> Percolation1ato1bIrrigation <br> Percolation1bto2Other <br> Percolation1bto2Forest <br> Percolation1bto2Irrigation           |
| percolation lower soil layer to subsoil | repSeepSubToGWMaps     | $\frac{mm}{timestep}$      | SeepSubToGWMaps <br> SeepSubToGWotherMaps <br> SeepSubToGWforestMaps <br> SeepSubToGWoirrigationMaps                                    | sgwPixel <br> sgwOther <br> sgwForest <br> sgwIrrigation          |
| surface runoff                          | repSurfaceRunoffMaps   | $\frac{mm}{timestep}$      | SurfaceRunoffMaps                                  | srun            |
| outflow from upper zone | repUZOutflowMaps       | $\frac{mm}{timestep}$      | UZOutflowMaps, UZOutflowForestMaps <br> UZOutflowIrrigationMaps                                      | quzPixel <br>  quz <br> quzF <br> quzi             |
| outflow from lower zone                 | repLZOutflowMaps       | $\frac{mm}{timestep}$      | LZOutflowMaps                                      | qlz             |
| total runoff                            | repTotalRunoffMaps     | $\frac{mm}{timestep}$      | TotalRunoffMaps                                    | trun            |
| percolation upper to lower zone         | repGwPercUZLZMaps      | $\frac{mm}{timestep}$      | GwPercUZLZMaps <br> GwPercUZLZOtherMaps <br> GwPercUZLZForestMaps <br> GwPercUZLZIrrigationMaps                                     | uz2lzPixel <br> uz2lz <br> uz2lzF <br> uz2lzi           |
| loss from lower zone                    | repGwLossMaps          | $\frac{mm}{timestep}$      | GwLossMaps                                         | loss            |

**Note**

Some cumulative stoarges and volumes are computed internally by LISFLOOD. Some relevant exmaple is described below:
- Total Water Storage is the total water volume stored in channels, lakes, reservoirs, snow cover, sealed surfaces depressions, surface runoff, canopy interception, uppper and lower groundwater zones. 
- Surface runoff is the sum of direct runoff (from sealed and water fractions) and runoff generated by the pervious land cover fractions (forest, irrigation, other).
- Total runoff is the sum of surface runoff and sub-surface runoff. Sub-surface runoff is the outflow from upper and lower groundwater zones.


[🔝](#top)
